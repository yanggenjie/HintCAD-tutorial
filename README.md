---
typora-root-url: images

---

readme文件就是本书的正文，另外一个文件是草稿，在本地上的草稿，于本文件一模一样。只不过这个可以在网页上显示图片，另一个文件是无法显示图片的。

# 前言

各位同学大家好，我是螃蟹化石（以前是冷眼观螃蟹，由于长期不更新，化骨为石），闲来无事，就把视频的内容重制成文字版的，以供大家方便复习，毕竟，看视频也只是娱乐娱乐，听久了就觉得烦，看文字，写得不好还可以装瞎。

这个《纬地一学即会》文字版第一版的会持续更新完结，从软件操作到设计思路，由于UP的知识边界有限，当然会有很多遗漏的地方，希望大家多多指正。

关于章节的分布，首先每个大的章节，比如第一章、第二章、第三章这样的，其实是纬地操作的每个步骤。然后每个章节下的分布是：

首先把这个操作在纬地上如何实现的，讲解清楚。所以每一章的第一章都是纬地操作步骤，如果你只看步骤，那么就是看第一章的纬地操作步骤，然后跳到第二章的纬地操作步骤，然后接着第三章......以此类推。

讲完操作步骤之后，再讲纬地上的这些参数是怎么填的。所以在纬地操作步骤的后面，就接着参数设置的章节，关于参数设置的章节，有些地方考虑的不是那么完整，除了受笔者本身的知识局限之外，还是有些是有意为之，因为我们一开始做的时候，就是考虑不完整的，就是考虑不周的，等到做到最后一步的时候，才发现，原来是这里还需要修改，然后修改完之后，又发现新问题，继而不断反复修改。若是笔者一开始就把所有东西都考虑完，读者可能觉得，需要考虑的东西太多，有太多的前置引用，太多的名词读不懂，不知道为什么要考虑。故而读者在观看一些章节的参数设置时，觉得笔者讲得过于肤浅，这是正常的。

这次重制的目的，其实是觉得文字版的会更加方便查阅复习，因为看文字，完全可以停下来思考，UP讲得对不对，看视频感觉就图个乐。话说回来，发布视频到现在，我从来没有看我自己的视频......汗，因为我现在比较喜欢看文字教程，是不是很奇怪，在视频时代到来的时候，我喜欢用上个时代流行的文字来看，不过这个文字其实也不单独属于哪个时代的，只是说，现在比较流行视频而已，不过大部分文献知识还是文字记录。

写这个，也看看有多少人习惯看文字版，然后再考虑要不要出第二版，感觉不需要。除非大家也参与进来和我一起写作，不然我这点脑子不够用。我稍后会把这本“书”发布到github、gitee等仓库上，让大家也可以参与进来写作。也就是说，你现在看到的前言，可能不是最终的前言。我会尽量完善，删除过多的废话，留下一点就好。

# 第一章 设计总流程

我的讲解习惯是**先讲整个完整流程的步骤，然后我再详细讲讲每个步骤**的详细过程，这样你在听课的时候有个方向，哦这里讲的是纵断面设计，那么之前应该是做数模，唉？数模是什么？喔，原来是这一步漏掉了，我回去翻翻......

这样我在介绍一些具体功能的时候，你或多或少能够知道我在给你解释什么，不然一上来就给你说这个功能又什么用，那个功能能实现什么，这个不是我们关心的，那是开发者要关心的，我们关心的是怎么用。

> 步骤看起来很多，其实没有那么多。本来就只有平面设计、纵断面设计、横断面设计、其它构造设计。
>
> 不过呢平面设计和纵断面设计中间需要做设计向导、建立数模这样的**过渡操作**，很多同学会忘记，导致各种报错。
>
> 所以我就把这些**过渡的步骤**单独写出来，以防忘记，方便复习。

如下图所示，依次进行。

![image-20201126151256576](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126151256576-1606539463317.png)

**这些步骤的先后顺序不能乱。**如果修改了其中某个环节，那么就要**从那个环节开始，往下走完流程。**

如果你在建立数模之前没有做设计向导，那么一些数据就无法计算进去，后续的设计也当然会出错（设计向导里面需要填入的是纵断面和横断面的一些数据，以供后续计算使用）；

如果你没有做平面选线而妄想做桥梁涵洞的设计，于情于理都是说不过去的（毕竟你路都没有，桥该放哪？）；

如果你重新修改了纵断面设计之后，没有重新点击路基设计计算，那么你横断面出图的数据是另外一条纵断面的设计。(路基设计计算根据你的平面路线和拉坡的数据，计算出每个桩号的横断面数据)

**我这样说你可能暂时不理解，那也没关系，我这里只是想强调，`要严格按上图顺序来做`。这一点，记住即可。**

如果是初次学习，讲第二步平面选线的时候，通常老师们就要开始讲各种选线要注意的事项，缓和曲线该如何设置，这个房子该不该拆，突然又讲了一个自己在实际工程遇到的什么特殊例子，然后又突然讲了一个段子，然后......等等。

不过我并不打算讲，**我想先讲纬地是怎么个操作的，在整个平面设计中，需要点击哪些功能按钮。你知道操作之后，熟悉这个操作，然后再考虑规范，再考虑设计**。

咳咳，好像废话有点多，不过我说了那么多，就只是希望大家能了解到我的思路，我认为这个总步骤应该一开始就要讲清楚，学生课后没事的时候，可以自己往下尝试操作软件，而不是非得老师来教才能进行。

所以这一章的目的就是，了解整个流程，学完本课程之后，最好能完全记住这个流程。学习的时候，最好不停的翻看，看看自己走到这段路程的什么位置了。当然，还有很多细节没有讲，初学的话不要勉强自己一定要看出点什么**，**就算什么也看不出来也是正常的，这个东西是需要反复翻阅、反复熟悉理解，直到你拥有了自己的理解。你知道每一个都在干什么**，**这时候你已经出师了。

> 而且我在前言说了，这本书可能会持续修改更新，发出来的东西我当然保证正确性，不过就是可能不太完整，就比如这一章，可能需要更多的详细解释，或者根本不需要。这都是有可能的，所以需要可以动态修改的地方，那就是程序员都喜欢用到的代码托管网站比如github、gitee之类的仓库托管，很多写作的也都喜欢在上面写文字更新。后面我会教大家怎么参与到这本书的写作中来，一起补充这部书。在完结的时候，我会打包成PDF，以供下载。
>
> 我现在直接更新出来，是怕我写到一半就放弃了。只有先给自己挖个坑，然后往里面跳，才可能填完。我一开始一直等，说我写完这本书再全部更新出来，结果到现在一个字都没动......所以我放弃了完美，是驴子是骆驼，拉出来溜溜先

# 1.新建项目

> 这里，如果是已经做过设计，然后关闭了电脑，现在想重新做，那么就是**打开项目**，而**不是新建**了。
>
> **所有的操作都是基于项目来操作的，所有的数据都是基于项目文件之上的。**

点击项目-新建项目

![image-20201126155548654](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126155548654.png)

然后弹出这个窗口，这里我们**只需要做一件事**，就是**设置项目文件路径及名称**，点击旁边的浏览，

![image-20201126155651472](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126155651472.png)



然后弹出下面这个窗口，命名或不命名都无所谓，重点是**你要找得到这个文件放在哪了**

![image-20201126155916317](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126155916317.png)

然后就又重新回到以下窗口，`项目文件路径及名称`和`新建或指定平面线文件`自动填写好了。

![image-20201126160107727](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126160107727.png)

这里还有一个设计者信息，到底要不要填。这里填也好，不填也无所谓，为什么？**因为这个信息是后面出图的时候才需要填写的**。这里相当于一个标签，如果你填写了，那么后面出图的时候，纬地会自动检索看看你这里写了什么信息，然后自动帮你填写上去，这个对整个过程的设计没有丝毫影响。

`就好比你买了个新本子会先写上自己的姓名，然后再写作业，或是先写完作业，然后再写上自己的名字是一个道理。`

我这里就不写名字了，**直接点击确定**，然后就可以在地下的命令栏看到提示：

![image-20201126161257486](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126161257486.png)



这个就是新建项目的整个过程了。

### 注意事项

> 关于项目，需要注意一点就是，当你想退出软件的时候，必须**点击保存项目**，不然你之前的设计就都白费了。

# 2.打开地形图

这一点，比较简单。

点击CAD左上角的图标，单击打开就可以了，或者快捷键`ctrl+O`

![image-20201126161547655](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126161547655.png)

然后弹出窗口：

![image-20201126161737631](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126161737631.png)

这时候，点击左边栏的`桌面`，然后就看到你电脑的磁盘了，你找到你地形图的位置就好，`我并不建议大家把所有东西都放到桌面上来，不过放也无所谓，个人喜好，记得备份到其它盘就好`

找到地形图，选中，点击打开之后，可能会弹出类似以下的窗口：

![image-20201126162146414](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126162146414.png)

这说明：你的电脑没有这个叫做`AAA`的字体文件，点击`取消`，然后弹出以下窗口：

![image-20201126162257490](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126162257490.png)

**这个意思就是说，叫你用其它字体来`替代`AAA这个字体，一般选国标字体来替换，国标字体：`gbcbig.shx`选中，点击确定。**然后稍微等一下就可以加载出来了。

![image-20201126162521006](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126162521006.png)

我们可以看到这个命令栏上的提示：已经用国标字体替换了AAA字体。

### 注意事项：

有些同学不断修改设计久了，会头脑混乱，**觉得直接双击打开地形图，直接做设计不行吗？**不行，还记得总步骤吗？

第一步就是新建项目，如果已经有项目，那么是打开项目。如果你直接双击打开地形图，那么这个**地形图不在项目里面****。还记得第一节新建项目的开头我说了一句话：**所有的数据都是基于项目文件之上的**，如果你直接打开地形图，不会自动识别项目文件。

> 所以需要先打开项目文件，在项目里面打开地形图。

# 3. 平面选线

### 3.1 纬地操作步骤

* **点击设计，主线平面设计**

![image-20201126165238425](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126165238425.png)

`然后弹出主线平面设计的窗口。`

* **选一个地形图上的点，作为路线的起点**

`我们先说怎么在软件上操作，然后再说需要考虑什么。`

![image-20201126165452089](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126165452089.png)

* 点击拾取，然后`鼠标移动`到你想作为起点的地方，`单击鼠标左键`就可以完成起点的选取。

`这时候我们可以观察到，窗口上的X、Y坐标已经变了，之前是(0，0)，现在已经自动生成了一个新坐标。这个点就是你刚才选定的起点。`

`你可以看看上图，我们未拾取的时候，坐标都是（0,0），选取之后，纬地自动读取。`

![image-20201126165812905](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126165812905.png)

然后，点击`插入`：

![image-20201126170111377](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126170111377.png)

弹出，是否插入`交点1`，点击`是`：

![image-20201126170138855](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126170138855.png)

`这时候，我们就回到了地形图上，不过鼠标在拉动一条线，即可以选线了。如下图，我随便选了一条。`

这个时候，**我们只能选做直线，没有园曲线、缓和曲线，转弯都是折线**

最终，你选完了，就需要按键盘上的`回车键`（即Enter键），不然它是永远不会自动结束的。

![image-20201126170317388](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126170317388.png)

当我按下`回车键`之后，就**自动重新弹回主线平面设计**的窗口(如果没有自动弹出，或者你关闭了，那么重新点击`设计`-`主线平面设计`，即可)：

![image-20201126170657839](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126170657839.png)

如上图，可以按`向左`或者`向右`的箭头，查看这条路线的交点，也就是转弯的地方的点。

> 不过现在，**转弯的地方都是折线转弯，如果这样设计的话，我估计没有人敢开车上路。**所以你需要设计`园曲线`、`缓和曲线`。

那么如何设计`园曲线`，`缓和曲线`呢？这就需要在这个`交点`（也就是转折点）的地方做文章，由图中，我们可以看到，

![image-20201126172139438](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126172139438.png)

这个窗口大概可以分成这样三部分：**交点数据**的区域、**园曲线及缓和曲线设计**的区域、**总数据显示**的区域；

交点数据刚才我们用来选起点；数据显示区域就只是一个展示台；剩下的区域就是**做园曲线和缓和曲线设计的**部分了。

那如何做？就**按规范填入一些数据即可**。

> 注意，这里说填入，实际上就是你**对这条路线设计的考虑**，你觉得设计园曲线300m的半径，还是1200m的半径，这些需要你考虑填入。而具体该怎么考虑，那就需要结合规范来考虑了。

这里先随便填一下，稍后我们详细说这些参数怎么考虑（详见3.3 选线思路）。

这里选用的计算模式是：`常规已知S1+Rc+S2`，然后需要`填写3个数据`，然后点击`试算`。

园曲线半径(Rc)：400

前缓和曲线(S1)：75

后缓和曲线(S2)：75

![image-20201126173929540](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126173929540.png)

>  这里先讲一个小原则，当然后面也会详细讲到
>
>  即：S1：Sc：S2=1：1：1~1：2：1，就是说这三个的比值需要保持在这个范围。

我们填完之后，点击试算，园曲线长度Sc会自动计算出来，这三个数据S1、Sc、S2的比值要在1：1：1~到1：2：1之间即可。

至此，平面设计的步骤就已经做完了，我们需要**保存刚才的路线文件**。

![image-20201126174517459](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126174517459.png)

`点击`另存`或者`存盘`都可以，因为是第一次保存，无论点击哪一个，都会问你保存到哪。`

我们点击`存盘`。

![image-20201126174817880](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126174817880.png)

弹出窗口，点击保存即可,然后弹出窗口：

![image-20201126174917288](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126174917288.png)

`是否将“平面交点数据”自动转化为当前项目的“平曲线数据”？`

点击`是`,然后我们再点击一次`存盘`，然后弹出窗口提示文件保存结束，即可。

不放心还可以再点击一次保存......

![image-20201126175038149](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126175038149.png)



最后，还要`保存项目`。点击`项目`-`保存项目`。这个就是在软件上做平面设计的完整流程。



### 3.3 平曲线参数设置

#### 选线思路

如果你看懂了上面的操作流程，那么恭喜你，至少已经进步了很多了。

不过，光有操作是不行的，我们要做的是设计，不是走流程。那么接下来的小节中，我们要



那么在选线的时候需要注意哪些问题呢？这里UP也只能根据一些浅薄的理论知识来给大家讲解一些，我按我的方式来将，你看着吸收，如果有讲得不对或者不完整的地方，请多多指正。

* 最好能多省钱。

别哪有村子往哪挖，哪有天然气管道，我非要跨过去这样的，能少造桥就少造桥......先不说人家施工方在施工的时候难度有多大，就是业主爸爸也没有那么多钱给你折腾。最好呢，你就真的只有一条路，连涵洞都不要的。

  > 这里说到了一些工程相关的单位，大的来讲就有三方，一个是设计单位，一个是业主，一个是施工单位。业主看中了一块地盘，出钱找人修路，首先要找一个设计的，然后找一个干活的（施工单位）
  >
  > `为啥不只找一家，让它自己设计，也同时让它干活。大家自己做设计的时候都知道自己设计的东西有多烂，你让我去干活，去你的吧，鬼知道这个东西怎么施工，不会。`
  >
  > `会干活的，设计的时候就各种挖坑，在业主身上挖矿。`
  >
  > 所以需要两手互相制约，相互牵制。
  >
  > 这里还有第四方，监理方，就是监督设计的好好设计，监督干活的好好干活，大家和平相处，要讲江湖规矩，讲武德，以和为贵。
  >
  > **咳咳，以上讲述的是极端情况，不要当真。**

总的来说，就是你在初次选线的时候呢：

首先要尽量避开房屋、不要多次跨相同的一条河，这样能够少造桥。其次，与村庄尽量避开，不能避开尽量少拆房子。然后，过山的时候呢，尽量少挖少填。感觉是一堆废话，不过也没办法，选线没有什么固定的套路，大家就自己多研究吧。这样就大概满足了省钱的原则。  

* 要确保安全。

就是要符合规范，不然出问题了，在座的没有哪个可以脱得了干系。至于偷不偷工减料，那是人家施工单位的问题，不是你设计的问题。不过实际的施工难度，当然你也得考虑一下，别看到一个悬崖你非要说我就爱在这里搭桥，那是你觉得不能施工，我不要你觉得，我就觉得行......

那具体要怎么符合规范呢？一条路可以由直线部分、曲线部分、缓和曲线部分构成，那么规范就是要规定在不同等级、不同情况的条件之下，直线的最小长度、最大长度应该是多少；园曲线最小半径应该是多少，缓和曲线的最小长度应该是多少。

#### 参数设置

我们现在来翻翻这本《公路路线设计规范》JTG D20-2017——第七章 公路平面

**对直线的要求：**

![image-20201126212652239](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126212652239.png)

> 首先，第一条，这条路直线部分长度不宜过长，因为直线太长了，在这条路上开车就会容易打瞌睡，容易翻车。
>
> 然后，第二条，这段直线也不能太短，不然开车的人刹不住车，容易引发车祸，翻车现场就是因为把油门当成刹车，一脚踩到底，路走窄了，最终不省人事。

**对园曲线的要求：**

![image-20201126212724865](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126212724865.png)

> 园曲线部分，也就是转弯的地方啦。
>
> 先说第一条，还记得开头我们选的那条路线吗？转弯的地方就是一个折线，你开车的时候，前面看着没啥子变化，油门一踩可能就冲下坡了，为了避免这种情况发生，就需要在这种转折的地方，设计一个曲线，让你提前知道，哦，要转弯了，准备打方向盘，这个曲线就是园曲线啦。
>
> **总之，第一条说的就是：转弯的地方，不能干巴巴的就一个折线，需要曲线来过渡**
>
> 然后第二条，既然**设计曲线，那么就需要精确的计算出来数据**，不能天天凭感觉，凭个人喜好。所以各位专家们已经计算出来了，我们看懂这个表格就好。
>
> 其实也挺容易看懂的，**根据`设计速度`、`超高设计值`来判断园曲线最小半径不能小于多少。**比如说，设计速度80km/h，超高6%，那么园曲线最小半径一般就不能小于400m，如果你哪个地方条件实在苛刻，那么极限最小的半径不能小于270m，再小就要出事了。
>
> 第三条，园曲线半径超过1000m，那就和直线也没什么区别了，也就没有设计园曲线的必要了，这个地方也不要设置转弯了，就直接一条线拉到底即可。

**然后是缓和曲线的要求：**

![image-20201126215616265](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126215616265.png)

![image-20201126215703258](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126215703258.png)

![image-20201126215722057](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126215722057.png)

![image-20201126215730866](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126215730866.png)

> 因为公路平面缓和曲线采用的是回旋线，所以规范这里写的就是回旋线。
>
> 关于缓和曲线，要考虑的是，该不该设置？也就是要不要在纬地的软件上面，填写缓和曲线的长度。所以**规范说的就是考虑什么时候必须设置，什么时候不用设置。**
>
> 第一条，直线和园曲线相接的时候，要不要设置缓和曲线；
>
> 第二条，园曲线和园曲线相接的时候，要不要设置缓和曲线；大家都体验过连续转弯的情况吧？那就是两个转弯相接了。注意有**同向曲线相接和反向曲线相接**的情况？所以就需要你自己看自己路线的设计速度来判断，要不要设置缓和曲线。
>
> 第一条、第二条说的是**判断要不要设置**。不设置就无需多言，要是设置，该设置多少？
>
> 第三条，说的就是**该设置多少**的事情。还是看你的设计速度来判断的，比如你是60km/h的设计速度，然后是两个园曲线相接，那么根据第二条规范，肯定是要添加缓和曲线的啦。那么这个缓和曲线最小长度就不能小于50m。你可以取55m，60m，70m等等以上。

现在我已经看完了规范，也按我浅薄的理解讲解完了，不知道你看了多少。

如果你看完了以上所说，那么你至少能大概知道这个地方的数据该填什么了。

>  **对了，我之前还提到一个原则，即：S1：Sc：S2=1：1：1~1：2：1，就是说这三个的比值需要保持在这个范围。**
>
>  这个原则呢是，《道路勘测设计》第四版，第二章，讲平面设计的时候提到的，规范上并没有看到。不过也最好遵循。

现在我们回过头来看看《 公路路线设计规范》关于平面设计这部分的目录：

![image-20201128160413837](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201128160413837.png)

平面三要素：直线、园曲线、缓和曲线，都在这几个小结作出了详细的解释说明。







* **小结**

好了，最重要的差不多就这两个了，**省钱，能开车上路**，大家要求都低一点。

这里讲选线原则我经验过于浅薄，请大家转移到《道路勘测设计》第`(最新)`版,里面有详尽的公路选线、城市道路选线原则讲解，这里UP就不想再继续献丑了。或者你可以去查看文献，看看选线原则啊什么的，这个时候，看文献这种高逼格的动作，就在你身上体现出来了。或者多查查基本关于选线的书，多问问有经验的老师，师兄师姐（恩？有师姐吗？假设希望有吧）。本人知识止步于此了，继续扯下去就误人误己了，咳咳。

`话说回来，这一张好不容易有图片，结果图片里面还是文字，希望你们能静下心看。只要能看的书都看，多看几本。`

### 3.4 平面图例识别

其实选线原则这东西，一说谁都会，考虑的思路也比较明确，问题就是我不认识地形图上它标的到底是什么东西，说实话，不是我想挖这个房子，而是我根本不知道它是个房子！！所以，我觉得这个才是我能够帮助你的，现在开始识图模式。

* 房屋

既然那么怕拆房子，那我们先认识一下房子吧：

![image-20201126201733930](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126201733930.png)

像这样用**矩形**来表示，然后中间写着砖、混之类的，就是房子了，砖就是用砖做的房子，砖2，数字就一个编号，你知道这个是房子就行。这个可能不太清楚，再看一张：

![image-20201126202042874](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126202042874.png)

看到那些**矩形**没？里面可能没写子，不过不影响它是房子，这么多矩形就说明这里有很多房子，也就是一个村落或者镇了。

![居民房屋](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/居民房屋.JPEG)

这里有个总图，不过清晰度不是太高，不过勉强可以看到，就是各种房子。

* 农田、庄稼

第二个就是比较多的农田、庄稼了

![image-20201126202625183](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126202625183.png)

看到这个向下的箭头没。这个就是稻田。还有就是像下面这种：

![image-20201126202735748](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126202735748.png)

这个也是农田，不过是干旱的了，简称旱田。这种地方，如果当地是以此为生，那么修路的时候，最好就别穿过这里了，如果都出去打工了，那么人家巴不得你来占地，双手奉上。我就总图例奉上：

![植被园林](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/植被园林.JPEG)

* 道路

还有道路

![image-20201126203215111](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126203215111.png)

仔细看，还是很容易辨别的，它和等高线虽然有点像，不过却是独木成林，和等高线之间还是有一些**有角度的相交**，两条线就是道路两边的边界。而且**等高线是一条闭合的曲线**，虽然有些没有闭合，那是因为地形图被裁剪了，所以你看到是不闭合的。

公路相关的图例：

![公路相关](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/公路相关.JPEG)



* 河流

河流的话;

![image-20201126204015403](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126204015403.png)

和道路的差不多，也是用两条把两岸的边界标出来，不过河流还在中间用箭头把水流的方向标出来。

* 最后，看图层

如果你实在不知道你的地形图上标的是什么东西，可能是制作地形图的人使用了它自己的方式标记出来，还没来得及修正。不过一般都会写在图层上面的。比如说下面这个：

![image-20201126204406437](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126204406437.png)

点击这条青色的线，标的居然是水系，可能是一条小溪，不配拥有正规图例吧。不过呢在图层的名字上已经写出来了，这个时候呢，这条小溪也只能忍着，吃了哑巴亏了。

* **小结**

我们认识了哪些常见的图例：房屋、道路、庄稼/农田、河流。其它的，比如电线杆什么的，大家多看看图层的名字。

### 3.2 纬地文件解读

**1.为什么要保存项目呢？**

还记得第一节我们说了：**所有的数据都是基于项目文件之上的，**刚才我们存盘，是单独保存了这条**路线的数据文件**，这个时候项目文件会自动建立一个`索引`，意思就是说，`项目文件`帮我们自动寻找到了`平面路线文件`，这一点，可以打开项目管理器得到印证。

点击`项目`-`项目管理器`

![image-20201126184524421](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126184524421.png)

然后弹出一下窗口：

![image-20201126184621547](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126184621547.png)

可以看到平面交点文件，自动导入进来了，如果你不保存项目，那么下一次你就需要自己手动导入。我们可以选中平面交点文件那一行，然后旁边出现3个点，点击它。

![image-20201126185435410](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126185435410.png)

然后就弹出一下窗口：

![image-20201126185542733](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126185542733.png)

这个就是导入`.JD`文件时候弹出的窗口，点击保存，其实就是导入。

**2.关于项目文件`.Prj`和平面交点文件`.JD`**

我们现在可以回到文件夹下看现在生成了哪些文件：

第一个是`.Prj`文件；我们知道这个是项目文件，

第二个是`.JD`文件；这个是交点文件，也就是这条路线。

第三个是`.pm`文件；这个是什么东西？

![image-20201126185738503](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126185738503.png)

还记得刚才存盘操作吗？存盘之后弹出了一个窗口

![image-20201126190128419](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201126190128419.png)

注意看后缀：`.pm`，这时候我们知道了，这个文件就是交点文件附带的一个东西，

就算丢失了，我们可以重新存盘一次，就自动生成了，不过前提是你得有`.JD`文件。这个`.pm`数据是后续纬地计算时需要用到的文件。

> 平面设计里面的文件最重要的其实就是`.JD`文件。里面包含了你设计的整条路线、每个交点的园曲线半径、缓和曲线长度。

> 项目文件里面保存的都是一些索引，并不是设计本身。

如果我要看你的**平面设计**，你只需要发给我一个`.JD`文件和地形图就可以了。然后我重新`新建`一个`新的项目`，导入`.JD`文件，存盘，生成`.pm`文件。这个时候，我电脑上的设计就和你的一模一样了。

现在大家是不是对这些交点文件有了一些更深的理解了？



# 4.做设计向导

## 4.1纬地操作步骤

#### 衔接上一步操作

接上一章的纬地操作，我假设你是一路看着过来的，也就是说，中间你可能关闭过电脑，那么现在重启打开电脑，我们要如何继续上一次的工作呢？

首先，点击项目-打开项目：

![image-20201127172325303](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127172325303.png)

然后找到项目文件所在的位置，选中，打开：

![image-20201127172426205](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127172426205.png)



打开之后就已经接着上一次的工作了。

但现在CAD窗口还是空空如也，什么都没有，地形图也没有打开。不过我们已经不需要打开地形图了，只有做平面选线的时候才需要打开地形图，或者是你自己想熟悉一下地形图，你可以打开。现在做设计向导，就无需打开。

#### 路线参数设置

然后现在开始做设计向导，点击项目-设计向导：

![image-20201127184433866](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127184433866.png)

弹出这个向导的窗口：

![image-20201127184505883](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127184505883.png)



然后接下来就是填数据了，第一步这里，其实没有什么需要填写的，就是看你设计的是什么类型的路线，你是设计公路还是城市道路，这个需要你自己选择了，我们这里就选择公路。其它就不需要填写了。

这里可以注意到一个文件，.pm文件，这个文件是之前生成的，所以如果你没有这个文件，那么设计向导就会出现致命错误。

如果一直重复出现致命错误，大概率就是因为缺失了某些文件。

![image-20201127184712235](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127184712235.png)



#### 项目分段设置

![image-20201127185024171](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127185024171.png)

这里需要选择你自己设计的公路等级和设计车速，

#### 路幅及断面形式设置

![image-20201127195431653](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127195431653.png)

这里注意看标题，就是你设计的横断面的形式了，这些数据是需要你自己设计，然后填入的。**怎么设计，就需要看规范了**：

我们翻开《公路路线设计规范》JTG D20-2017，第六章，公路横断面，第六章前面是对横断面的一些说明，大家没事的时候，多翻翻，可以更加深对横断面设计的理解。

![image-20201127200127468](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127200127468.png)

这里我们设计的是二级公路，那么就找与二级公路相关的说明：

![image-20201127200359739](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127200359739.png)

从这里（得把我圈起来的文字看或者读一遍，你才知道我是怎么确定的，我默认你已经看了上图勾出来的，下面的情况类似），可确定我们应该**使用整体式路基断面**。我们继续往下看：

![image-20201127200515738](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127200515738.png)

这里就需要`车流量`的数据了，这个是需要去调查得到的，规范上是翻不到的。我们**演示就不需要加宽路肩**了。继续往下翻规范：

![image-20201127200746010](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127200746010.png)

从这里可以判断，我们的**车道宽度得3.5m**。继续往下看：

![image-20201127200905452](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127200905452.png)

从这里知道，我们要**设计两条车道**。

到现在我们确定了哪些东西？

- 整体式路基
- 两条车道，每条3.5m宽

然后，现在回到纬地上看看：

![image-20201127201503067](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127201503067.png)

好吧，只能选一个2车道，还是默认选的。**这是因为纬地其实是自动绑定了规范的**，当你第一步选择**公路主线**，第二步选择**公路等级**（我们选二级公路）、设计车速（我们选择了60 km/h），然后**纬地就自动查找规范**，**自动帮你填好后面的数据**了。

回想一下我们是怎么设计出来**整体式路基、两车道、3.5m**的？

根据公路等级确定了整体式路基和车道数量，根据设计车速确定了车道宽度。

我们接着往下看规范：

![image-20201127203459189](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127203459189.png)

到了如何确定中间带了，我们是60km/h的设计车速，不过我们是二级公路，没有要求必须要设置中间带，那么现在中间带就是0m了，也就是不设置，因为没钱，你开车的自己好自为之。

`这里就是个人的选择了，毕竟没钱，到时候在路上多贴上限速的标牌，多设置几个摄像头，不会相撞就好。`

想必看到这里，大家已经不用再继续看我废话了，知道横断面设计的车道宽度、车道数量、路肩、中间带、路供坡度等等这些部分的参数怎么设计的了吧？多翻翻规范就知道了。

好我们再看一个路肩，往下翻规范：

![image-20201127205751287](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127205751287.png)

路肩可以宽一点，都取一般值，土路肩+硬路肩=0.75+0.75=1.5m，这个只是右侧的，左侧也是1.5m。

好了，现在我们已经把横断面的大概形式已经设计出来了：

0.75(左侧土路肩)+0.75(左侧硬路肩)+3.5(左侧行车道)+3.5(右侧行车道)+0.75（右侧硬路肩）+0.75（右侧土路肩）=10m。

所以呢，分别选中下图中的这些数据，依次填入，然后路幅宽度就会自动计算出来了。或者你可以选预设的路幅宽度，纬地会自动按预设的分配给每个部分。

![image-20201127210705146](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127210705146.png)

这里还需要填个横坡，也是一样，查规范：

![image-20201127211219416](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127211219416.png)



这里有路供横坡和路肩横坡的区分，大家不知道可以自行研究一下......

路供就是把路面做成倾斜一点，利于排水，免得下雨的时候积水太多，影响车行。

由于二级公路规定是双向横坡，也就是两条车道都要倾斜，但是我们又没有中间带，那么就只能中间高，往路的两边倾斜，这样就可以让水排出去。所以这种中间高两边低的横坡，也叫人字坡。如果有中间带，可以在中间带下面设置水管什么的，水往中间带流的时候，可以流到水管里面，然后进过水管，排除路外。

总之呢，路供就是为了排水用的。



其它的其实我觉得没有什么说的了，我这里就是给大家展示一下这些数据是怎么找出来的，怎么设计出来，就是查规范，然后结合实际情况。说到结合实际情况这几个字，有同学就头疼，“哎呀，我什么都会，就是不会结合实际情况......”，那你就按规范的数值填，也是造价多几个0或者少几个0的问题而已。

**小结**

读到这里，大家再回过头来看看《公路路线设计规范》JTG D20-2017，第六章公路横断面的目录。

![image-20201127212145554](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127212145554.png)

你看，目录上都写得清清楚楚，车道怎么设计出来的，中间带要不要设置，路肩要不要设置，宽度应该是多少才合理，路供横坡应该是多少。

#### 填方边坡设置

下一步，填方边坡：

![image-20201127195815723](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201127195815723.png)

这里的数据应该去哪里找？

那就需要用到另一本规范了：《公路路基设计规范》JTG D30-2015

![image-20201128134856397](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201128134856397.png)





>  上个版本是《公路路基设计规范》JTG D30-2004，已经弃用，规范还是要看最新版的。

现在来翻翻这本书的第三章——一般路基

**![image-20201128135119718](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201128135119718.png)**

对了，如果不知道规范中说的路堤和路堑是什么（这一点当然不会不知道，就是怕有时候忘记了弄混淆了，所以规范的前面就给你说明了路堤路堑的概念。）

![image-20201128135710665](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201128135710665.png)



- **坡率P**

好了，现在我们需要填写填方边坡的数据，就翻到填方边坡：

![image-20201128140127548](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201128140127548.png)

这里给出的上部高度，就是纬地上的H1，下部高度就是H2。比值就是坡率比，注意看P1的括号里面是（1:X）然后我们填入的值就是X的值。

`我这里点击了下图中右侧的数据部分，所以图上显示的是右侧的边坡，如果你点击左侧的数据，那么就是左边坡。（这里左侧、右侧不是方向，注意看下图中窗口上显示的文字。）`

![image-20201128140608226](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201128140608226.png)

由《公路路基设计规范》表3.3.5我们可以知道，这里的坡度P1应该是1:1.5，P2应该是1:1.75。（这里左右两侧当然是设置一样的数值，纬地会根据实际地形，计算的，这里是输入一个限制区间）

> 如果你没有选二级台阶，是不会有P2的，这里的边坡形式一般都取二级台阶。二级台阶的意思不是要求全线都是二级台阶，而是如果高度超过你设置的值，那么就自动变成二级台阶，否则就用一个台阶。
>
> 而如果你选择一级台阶，那么全线不管填方多高，都是一个坡，没有台阶。二级台阶就像下面这种，中间有个台阶，那个宽度，人可以走过去。
>
> ![image-20201128141929615](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201128141929615.png)

- **高度H1**

坡率已经填好，接下来到高度H1、H2，H1也就是上部高度最高的范围，意思就是，如果你填土是在6m以下，那么就只有一个坡就好，不用设置台阶，如果超过了6m，那么纬地就会开始设置一个台阶了。

> 有同学可能会问，规范的表格上不是写着H小于等于8m吗？你为什么要设置成6m？
>
> 这是需要做边坡稳定性计算了，意思就是，我其实也不知道要设置多少才好，只知道8m以内可以不用做台阶，可是这是地质条件良好的情况下的，如果地质不好，那么你填土不到8m，这个坡就垮了，所以在这种地质下，很可能最高就只能到5m,6m，如果要继续填土，那么就需要设置一个台阶，来缓冲一下。
>
> 那么如何做边坡稳定性计算，那又是另一本书的故事了。你自己想办法吧。

所以规范是规范，是理论情况，需要根据实际情况来设计，这里，每个人的设计水平就开始有所区分了，如果你依然是不管不顾，就用规范上的最大值，那么你这个设计就会出问题，如果只是学校里面的作业，那也就罢了，毕竟没有实施下来，如果是实际工程，你随便这样设计，那么就会出大问题。

现在有没有觉得，设计并没有想想中那么简单，仅仅看规范是不行的了吧？

- **W1**

还有一个就是W1,W2的宽度，是什么？











接下来是挖方边坡：

![image-20201128142726423](https://gitee.com/yanggenjie/HintCAD-tutorial/raw/master/images/image-20201128142726423.png)











# 5.建立数模



# 6. 做纵断面设计



# 7 路基设计计算



# 8.横断面设计



# 9. 其它构造物的设计





